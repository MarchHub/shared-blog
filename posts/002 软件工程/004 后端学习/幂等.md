# 幂等

## 基础概念

幂等操作 —— 满足
$$
f(f(x)) = f(x)
$$
即 —— **重复同一操作对系统状态无影响**

比如通过学号查询学生，即为一种幂等操作，因为不管查询多少次，对学生管理系统而言，都是没有影响。

常见的HTTP方法中，如GET、HEAD等操作，都是幂等的。

通过幂等的概念，可以有效的保证系统的一致性 —— 比如分布式系统中，可以保证在网络不可靠、重试、并发或跨服务协调时“重复执行不会导致错误或不一致的外部副作用”

## 常见维护幂等手段

- 使用幂等键 —— 通过生成一个唯一ID，在进行操作的时候先进行ID查询
- 乐观锁
- Outbox模式
- 等

